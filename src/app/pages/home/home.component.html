<div class="card h-full">
  <div class="flex h-full">
    <!-- Left Panel - 20% -->
    <div class="flex flex-column w-3 border-r">
      <div class="flex pt-3 pl-2 pr-3 gap-2 border-right-2">

        <p-button icon="pi pi-bars" aria-label="Menu" [text]="true" (click)="menu.toggle($event)" />
        
        <p-tieredmenu #menu [model]="items" [popup]="true" />

        <p-iconfield class="flex-1">
          <p-inputicon 
            styleClass="pi pi-search" 
            (click)="onSearchIconClick()"
            style="cursor: pointer;"
          />
          <input 
            type="text" 
            pInputText 
            placeholder="Search channels and messages" 
            class="w-full border-round-2xl"
            [(ngModel)]="searchQuery"
            (input)="onSearchChange($event)"
            (focus)="onSearchFocus()"
            (blur)="onSearchBlur()"
          />
        </p-iconfield>
        
      </div>
      
      <!-- Search Results Panel -->
      <div *ngIf="showSearchResults && searchQuery.length > 0" class="search-results-panel">
        <div class="search-results-header">
          <h6 class="m-0 text-sm font-medium">Search Results for "{{searchQuery}}"</h6>
        </div>
        <div class="search-results-content">
          <app-channel-list [searchFilter]="searchQuery" [showSearchResults]="true"></app-channel-list>
        </div>
      </div>
      
      <!-- Regular Channel List -->
      <div [class.hidden]="showSearchResults && searchQuery.length > 0">
        <app-channel-list [searchFilter]="searchQuery"></app-channel-list>
      </div>
    </div>   
    
    <!-- Right Panel - Chat Area -->
    <div class="flex-1 h-full">
     <app-chat></app-chat>
    </div>
  </div>
</div>
